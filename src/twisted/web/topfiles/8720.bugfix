twisted.web.client.HTTPConnectionPool and anything that uses it, like twisted.web.client.Agent, have had their logic for resuming transports changed so that transports are resumed after state machine transitions are complete, rather than before. This change allows the HTTP client infrastructure to work with alternative HTTP implementations such as HTTP/2 which may be able to deliver a complete response synchronously when producing is resumed.